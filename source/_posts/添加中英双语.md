---
title: 博客添加英文版
tags: blog
abbrlink: 49591
date: 2020-07-02 19:44:20
categories:
---

> 即日起，博客支持**中英双语**切换。别忘了，页面下方还支持**简繁切换**

<!--more-->

### 起因

早上突然想到，弄个中英双语的博客好像不错的样子。然后一大早就找教程，找了三种，第三种是我想要的。就是通过添加github项目，创建另一个独立的博客，将它作为英文网站。然后通过链接把中英文网站相连。

### 过程

过程很简单，就不讲了。这里放个我参考的教程链接。你只有点击侧边栏的“English”就能切换了。不过，中英的文章是不同的，我一般不会把中文文章翻译成英文，再放进去。同理，英文文章也不会有中文。不过这都不重要。深一点的基本用中文，还是母语比较好用。

[Hexo Next 7.7 双语切换](https://siriusq.top/Hexo-Next-7-7-%E5%8F%8C%E8%AF%AD%E5%88%87%E6%8D%A2.html)

### 扩展

既然有中英双语，那什么时候再来个日语好啦。等我日语水平再高一点，就详细研究上面的双语切换方案，把日语搞出来 。然后专门练习我那蹩脚的日语。

### Bug

1. ~~[penqi.xyz](https://pengqi.xyz) 不太行, 因为这个域名下面没有 en文件夹~~

2. ~~点进文章里面再按，也不行~~

	因为其原理只是把url从pengqi.xyz/xxx/1 变成 pengqi.xyz/en/xxx/1
	即中间加了个 en/
	而我根本没有把中文文章翻译成英文，所以不存在文章

	给点时间还是很容易解决的，改改脚本就好了。不想看了脚本先，以后再说吧，不想动了哈	哈。我觉得写这个的时候就能解决了呢

### 更新

已修复bug

主要是把中英切换按钮的跳转链接连到中英网站首页就行了。下面是修改后的js

```javascript
<script type="text/javascript">
  // Wait for the page to load 
    first
  var _prevOnload = window.onload;
  window.onload = function() {
      var switchLang = document.getElementsByClassName("menu-item 	menu-item-switch_lang")[0];
      switchLang.onclick = function() {
          var href = window.location.href;
          var indexOfEn = href.toLowerCase().indexOf('/en/');
          if(indexOfEn !== -1) {
	          // 中文网站网址
              window.location.href = href.replace(href,'https://pengqi.xyz'); 
          }
          else {
            //写上你的英文网站网址
  			window.location.href = href.replace(href, 'https://pengqi.github.io/en/');
          }
          if(typeof(_prevOnload) === 'function') {
              _prevOnload();
          }
          return false;
      }
  }
</script>j
```





